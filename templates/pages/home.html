{% extends 'base.html' %}
{% load static %}

{% block title %}DCL E-Commerce | Premium Tech Store{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="hero" style="position: relative; overflow: hidden; min-height: 80vh; display: flex; align-items: center; background: var(--gradient-dark);">
    <div class="hero-shapes">
        <div class="shape shape-1"></div>
        <div class="shape shape-2"></div>
        <div class="shape shape-3"></div>
    </div>

    <div class="container position-relative">
        <div class="row align-items-center">
            <div class="col-lg-6 hero-content" data-animate="fade-right">
                <h1 class="hero-title text-white mb-4">
                    Premium Tech
                    <span class="d-block gradient-text">For Everyone</span>
                </h1>
                <p class="hero-subtitle text-white-50 mb-5 fs-5">
                    Discover the latest gadgets and electronics with unbeatable prices
                    and lightning-fast delivery across Bangladesh.
                </p>
                <div class="d-flex flex-wrap gap-3">
                    <a href="{% url 'catalog:product_list' %}" class="btn btn-primary btn-xl btn-glow rounded-pill px-5">
                        <i class="bi bi-bag-check me-2"></i>Shop Now
                    </a>
                    <a href="#featured" class="btn btn-glass btn-xl rounded-pill px-5">
                        <i class="bi bi-play-circle me-2"></i>Explore
                    </a>
                </div>

                <!-- Stats -->
                <div class="row mt-5 pt-4">
                    <div class="col-4">
                        <h3 class="text-white mb-0" data-counter="15000">15K+</h3>
                        <p class="text-white-50 small mb-0">Happy Customers</p>
                    </div>
                    <div class="col-4">
                        <h3 class="text-white mb-0" data-counter="2500">2.5K+</h3>
                        <p class="text-white-50 small mb-0">Products</p>
                    </div>
                    <div class="col-4">
                        <h3 class="text-white mb-0" data-counter="64">64</h3>
                        <p class="text-white-50 small mb-0">Districts</p>
                    </div>
                </div>
            </div>

            <div class="col-lg-6 d-none d-lg-block" data-animate="fade-left" data-animate-delay="300">
                <div class="hero-bento-grid">
                    <div class="bento-item bento-main floating shadow-lg rounded-4 overflow-hidden">
                        <img src="https://images.unsplash.com/photo-1496181133206-80ce9b88a853?w=600" alt="Premium Laptop" class="w-100 h-100 object-fit-cover">
                        <div class="bento-overlay">
                            <span class="bento-label">Laptops</span>
                        </div>
                    </div>
                    <div class="bento-item bento-top floating floating-delay-1 shadow-lg rounded-4 overflow-hidden">
                        <img src="https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=300" alt="Headphones" class="w-100 h-100 object-fit-cover">
                        <div class="bento-overlay">
                            <span class="bento-label">Audio</span>
                        </div>
                    </div>
                    <div class="bento-item bento-bottom floating floating-delay-2 shadow-lg rounded-4 overflow-hidden">
                        <img src="https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=300" alt="Smart Watch" class="w-100 h-100 object-fit-cover">
                        <div class="bento-overlay">
                            <span class="bento-label">Wearables</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Categories Section -->
<section id="categories" class="section py-5 bg-light">
    <div class="container">
        <div class="section-header text-center mb-5" data-animate="fade-up">
            <span class="text-primary fw-bold text-uppercase small tracking-widest">Browse By</span>
            <h2 class="display-5 fw-bold mt-2">Shop by Category</h2>
            <p class="text-muted mx-auto" style="max-width: 600px;">
                Find exactly what you need from our carefully curated categories
            </p>
        </div>

        <div class="row g-4">
            {% for cat in categories %}
            <div class="col-md-6 col-lg-3" data-animate="fade-up" data-animate-delay="{{ forloop.counter|add:1 }}00">
                <a href="{% url 'catalog:category_detail' cat.slug %}" class="category-card d-block position-relative rounded-4 overflow-hidden shadow-sm">
                    {% if cat.image %}
                    <img src="{{ cat.image.url }}" alt="{{ cat.name }}" class="w-100" style="aspect-ratio: 4/5; object-fit: cover;">
                    {% else %}
                    <img src="https://images.unsplash.com/photo-1525547719571-a2d4ac8945e2?w=400" alt="{{ cat.name }}" class="w-100" style="aspect-ratio: 4/5; object-fit: cover;">
                    {% endif %}
                    <div class="category-overlay p-4 d-flex flex-column justify-content-end">
                        <span class="category-arrow mb-3"><i class="bi bi-arrow-right"></i></span>
                        <h4 class="category-name text-white mb-1">{{ cat.name }}</h4>
                        <span class="category-count text-white-50 small">{{ cat.products.count }}+ Products</span>
                    </div>
                </a>
            </div>
            {% endfor %}
        </div>
    </div>
</section>

<!-- Featured Products Section -->
<section id="featured" class="section py-5">
    <div class="container">
        <div class="section-header text-center mb-5" data-animate="fade-up">
            <span class="text-primary fw-bold text-uppercase small tracking-widest">Our Collection</span>
            <h2 class="display-5 fw-bold mt-2">Featured Products</h2>
            <p class="text-muted mx-auto" style="max-width: 600px;">
                Handpicked favorites that our customers love
            </p>
        </div>

        <div class="row g-4">
            {% for product in featured_products %}
            <div class="col-sm-6 col-lg-3" data-animate="fade-up" data-animate-delay="{{ forloop.counter }}00">
                <div class="product-card">
                    <div class="product-image">
                        <a href="{% url 'catalog:product_detail' product.slug %}">
                            {% with primary_image=product.primary_image %}
                            {% if primary_image %}
                            <img src="{{ primary_image.image.url }}" alt="{{ product.name }}">
                            {% else %}
                            <img src="https://images.unsplash.com/photo-1593642632559-0c6d3fc62b89?w=400" alt="{{ product.name }}">
                            {% endif %}
                            {% endwith %}
                        </a>
                        {% if product.is_on_sale %}
                        <span class="product-badge badge-sale">-{{ product.discount_percent|default:"10" }}%</span>
                        {% endif %}
                        <button class="wishlist-btn" data-product-id="{{ product.id }}">
                            <i class="bi bi-heart"></i>
                        </button>
                        <div class="product-overlay">
                            <a href="{% url 'catalog:product_detail' product.slug %}" class="btn btn-primary btn-sm">
                                <i class="bi bi-eye me-2"></i>Quick View
                            </a>
                        </div>
                    </div>
                    <div class="product-info">
                        <span class="product-category small text-muted">{{ product.category.name }}</span>
                        <a href="{% url 'catalog:product_detail' product.slug %}" class="text-decoration-none"><h5 class="product-title text-dark h6 mt-1">{{ product.name }}</h5></a>
                        <div class="product-price">
                            <span class="current-price text-primary fw-bold">৳{{ product.base_price|default:product.price|floatformat:0 }}</span>
                            {% if product.compare_at_price %}
                            <span class="original-price text-muted text-decoration-line-through small ms-2">৳{{ product.compare_at_price|floatformat:0 }}</span>
                            {% endif %}
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>

        <div class="text-center mt-5" data-animate="fade-up">
            <a href="{% url 'catalog:product_list' %}" class="btn btn-outline-primary btn-lg rounded-pill px-5">
                View All Products <i class="bi bi-arrow-right ms-2"></i>
            </a>
        </div>
    </div>
</section>

<!-- Promotional Banner -->
<section class="section py-0">
    <div class="container py-5">
        <div class="promo-banner position-relative overflow-hidden rounded-5 shadow-lg" style="background: var(--gradient-dark); min-height: 400px">
            <div class="position-absolute inset-0" style="background: var(--gradient-mesh); opacity: 0.5"></div>
            <div class="container h-100 position-relative">
                <div class="row align-items-center h-100 py-5 px-4">
                    <div class="col-lg-6" data-animate="fade-right">
                        <span class="badge bg-danger px-3 py-2 mb-3 rounded-pill">Limited Time Offer</span>
                        <h2 class="display-4 fw-bold text-white mb-4">
                            Flash Sale
                            <span class="d-block gradient-text">Up to 50% Off</span>
                        </h2>
                        <p class="text-white-50 mb-4 fs-5">
                            Don't miss out on our biggest sale of the year. Premium
                            products at unbeatable prices.
                        </p>
                        <a href="{% url 'catalog:product_list' %}" class="btn btn-primary btn-xl btn-glow rounded-pill px-5">
                            Shop Sale <i class="bi bi-arrow-right ms-2"></i>
                        </a>
                    </div>
                    <div class="col-lg-6 d-none d-lg-block text-center" data-animate="fade-left">
                        <img src="https://images.unsplash.com/photo-1468495244123-6c6c332eeece?w=600" alt="Sale Products" class="img-fluid rounded-4 shadow-lg floating mt-lg-n5" style="max-width: 80%;">
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Features Section -->
<section class="section py-5 bg-light">
    <div class="container">
        <div class="row g-4">
            <div class="col-md-6 col-lg-3" data-animate="fade-up" data-animate-delay="100">
                <div class="feature-card glass-card p-4 rounded-4 text-center h-100 shadow-sm border-0">
                    <div class="feature-icon bg-primary bg-opacity-10 text-primary rounded-circle p-3 mx-auto mb-3" style="width: 60px; height: 60px; display: flex; align-items: center; justify-content: center;">
                        <i class="bi bi-truck fs-3"></i>
                    </div>
                    <h5 class="feature-title fw-bold">Free Shipping</h5>
                    <p class="feature-description text-muted small mb-0">
                        Free shipping on orders over ৳5,000 across Bangladesh
                    </p>
                </div>
            </div>
            <div class="col-md-6 col-lg-3" data-animate="fade-up" data-animate-delay="200">
                <div class="feature-card glass-card p-4 rounded-4 text-center h-100 shadow-sm border-0">
                    <div class="feature-icon bg-success bg-opacity-10 text-success rounded-circle p-3 mx-auto mb-3" style="width: 60px; height: 60px; display: flex; align-items: center; justify-content: center;">
                        <i class="bi bi-shield-check fs-3"></i>
                    </div>
                    <h5 class="feature-title fw-bold">Secure Payment</h5>
                    <p class="feature-description text-muted small mb-0">
                        100% secure payment processing with SSLCommerz
                    </p>
                </div>
            </div>
            <div class="col-md-6 col-lg-3" data-animate="fade-up" data-animate-delay="300">
                <div class="feature-card glass-card p-4 rounded-4 text-center h-100 shadow-sm border-0">
                    <div class="feature-icon bg-warning bg-opacity-10 text-warning rounded-circle p-3 mx-auto mb-3" style="width: 60px; height: 60px; display: flex; align-items: center; justify-content: center;">
                        <i class="bi bi-arrow-repeat fs-3"></i>
                    </div>
                    <h5 class="feature-title fw-bold">Easy Return</h5>
                    <p class="feature-description text-muted small mb-0">
                        7-day easy return policy for a worry-free shopping
                    </p>
                </div>
            </div>
            <div class="col-md-6 col-lg-3" data-animate="fade-up" data-animate-delay="400">
                <div class="feature-card glass-card p-4 rounded-4 text-center h-100 shadow-sm border-0">
                    <div class="feature-icon bg-info bg-opacity-10 text-info rounded-circle p-3 mx-auto mb-3" style="width: 60px; height: 60px; display: flex; align-items: center; justify-content: center;">
                        <i class="bi bi-headset fs-3"></i>
                    </div>
                    <h5 class="feature-title fw-bold">24/7 Support</h5>
                    <p class="feature-description text-muted small mb-0">
                        Dedicated support team to help you anytime
                    </p>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}
